# Редактор сплайнов

Интерактивное веб-приложение для построения и редактирования кубических сплайнов на чистом JavaScript.

## Запуск

1. Скачайте все файлы проекта (`index.html`, `style.css`, `main.js`)
2. Откройте файл `index.html` в любом современном браузере

## Возможности

- Добавление контрольных точек кликом на холсте
- Удаление точек
- Ручное редактирование координат точек
- Автоматическое построение кубического сплайна по точкам
- Сортировка точек по X-координате
- Интерактивное изменение сплайна в реальном времени

## Алгоритм построения кубического сплайна

В приложении реализован естественный кубический сплайн, который проходит через все заданные точки и имеет непрерывные первую и вторую производные во всех внутренних точках.

### Метод прогонки для решения тридиагональной системы

Метод прогонки (алгоритм Томаса) - эффективный способ решения тридиагональной системы линейных уравнений вида:

```
a[i]*x[i-1] + b[i]*x[i] + c[i]*x[i+1] = d[i], i = 0,1,...,n-1
```

Где a[0] = 0, c[n-1] = 0, поскольку система трехдиагональная.

Процесс решения состоит из двух этапов:
1. Прямой ход - вычисление прогоночных коэффициентов α и β
2. Обратный ход - нахождение решения, начиная с последнего элемента

### Построение сплайна

1. Сначала сортируем точки по X-координате
2. Вычисляем шаги h[i] между соседними точками
3. Формируем тридиагональную матрицу системы и правую часть
4. Решаем систему методом прогонки, получая вторые производные m[i] в каждом узле
5. Вычисляем коэффициенты кубического многочлена для каждого сегмента:
   - a = y[i] (значение функции в начальной точке)
   - b = (y[i+1] - y[i])/h[i] - h[i]*(2*m[i] + m[i+1])/6 (для наклона)
   - c = m[i]/2 (для кривизны)
   - d = (m[i+1] - m[i])/(6*h[i]) (для плавности изгиба)
6. Для каждого сегмента отрисовываем кривую, разбивая ее на мелкие шаги
   - Значение сплайна в точке x: S(x) = a + b*dx + c*dx² + d*dx³, где dx = x - x[i]

## Технологии

- HTML5
- CSS3
- JavaScript (ES6+)
- Canvas API 